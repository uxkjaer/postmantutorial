sap.ui.define(["luigi/demo/common/BaseController","luigi/demo/libs/luigi-client/luigi-client","/sap/ui/model/json/JSONModel"],function(e,t,s){"use strict";return e.extend("qldh.postRequest.PreRequest",{onInit:function(){this.setModel(new s({code:`\n          let headers = {};\n          headers['Authorization'] =  'Basic ' + btoa('250004' + ":" + 'Myhr1234');\n          headers['x-csrf-token'] = 'fetch';\n          const echoPostRequest = {\n            url: 'https://myhr-dev.health.qld.gov.au/sap/opu/odata/sap/ZHR_MV_ALLOW_CLAIM_SRV/hasValidWagetypes?sap-client=120&saml2=disabled',\n            method: 'GET',\n            header: headers,\n          };\n          pm.sendRequest(echoPostRequest, function (err, res) {\n            let token = res.headers.find((oHeader) => oHeader.key === 'x-csrf-token')\n            pm.variables.set('csrf-token', token.value)\n          });\n\n          pm.variables.set("today", Date.now())\n          `,test:`\n          pm.test("Work item is not Zero", function () {\n            var jsonData = pm.response.json();\n            pm.expect(jsonData.Workitem).not.eql("0000000000000");\n        });\n        `}))},onValidateStep1:function(){if(this.byId("rbg2").getSelectedIndex()===3){this.byId("step1").setValidated(true)}else{this.byId("step1").setValidated(false)}},onValidateEnd:function(){if(this.byId("mySwitch").getState()){this.getView().byId("success").setVisible(true);this.getView().byId("failure").setVisible(false);this._showFireworks();setTimeout(()=>{document.getElementById("content").classList.add("item-fade")},200)}else{this.getView().byId("failure").setVisible(true);this.getView().byId("success").setVisible(false)}}})});